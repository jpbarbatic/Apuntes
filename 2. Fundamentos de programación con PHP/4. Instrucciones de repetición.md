# Instrucciones de repetición (Bucles) 

## Bucle for
La instrucción for se utiliza cuando queremos iterar un número determinado de veces.
```php
for (inicialización; condición; incremento) {
    // código a repetir
}
```

```php
for ($i = 1; $i <= 5; $i++) {
    echo "Iteración número: $i <br>";
}
```
**💡 Caso práctico en IAW:**

- Generar filas de una tabla HTML con datos numéricos.
- Repetir un proceso un número fijo de veces (ej. intentos de conexión).
- Recorrer arrays, aunque se recomienda **foreach**
     
## Bucle foreach
Se usa para recorrer arrays y objetos. Es la forma más segura y legible de iterar sobre colecciones de datos. Este tipo de bucle es el que más se utiliza para recorrer arrays.

```php
// Iteramos sobre cada uno de los elementos del array
foreach ($array as $valor) {
    // usar $valor
}

foreach ($array as $clave => $valor) {
    // usar $clave y $valor
}
```
**Ejemplos**
```php
<?php
$colores = ["rojo", "verde", "azul"];
foreach ($colores as $color) {
    echo "Color: $color <br>";
}
?>
```
```php
<?php
$usuario = [
    "nombre" => "Ana",
    "edad" => 28,
    "ciudad" => "Madrid"
];

foreach ($usuario as $clave => $valor) {
    echo $clave. ": ".$valor.PHP_EOL    ;
}
?>
```

```php
<?php
$ciudades = [
    [
        'nombre'     => 'Madrid',
        'habitantes' => 3223334,
        'provincia'  => 'Madrid'
    ],
    [
        'nombre'     => 'Barcelona',
        'habitantes' => 1636762,
        'provincia'  => 'Barcelona'
    ],
    [
        'nombre'     => 'Valencia',
        'habitantes' => 794288,
        'provincia'  => 'Valencia'
    ],
    [
        'nombre'     => 'Sevilla',
        'habitantes' => 688592,
        'provincia'  => 'Sevilla'
    ],
    [
        'nombre'     => 'Zaragoza',
        'habitantes' => 674997,
        'provincia'  => 'Zaragoza'
    ],
    [
        'nombre'     => 'Málaga',
        'habitantes' => 578460,
        'provincia'  => 'Málaga'
    ],
    [
        'nombre'     => 'Murcia',
        'habitantes' => 460349,
        'provincia'  => 'Murcia'
    ],
    [
        'nombre'     => 'Palma de Mallorca',
        'habitantes' => 422587,
        'provincia'  => 'Islas Baleares'
    ],
    [
        'nombre'     => 'Las Palmas de Gran Canaria',
        'habitantes' => 379925,
        'provincia'  => 'Las Palmas'
    ],
    [
        'nombre'     => 'Bilbao',
        'habitantes' => 346843,
        'provincia'  => 'Vizcaya'
    ]
];

// Ejemplo de uso: imprimir el nombre y la provincia de cada ciudad
foreach ($ciudades as $ciudad) {
    echo $ciudad['nombre'] . ' (' . $ciudad['provincia'] . ') - ' . number_format($ciudad['habitantes'], 0, ',', '.') . " habitantes\n";
}
```

## Bucle  while
Se ejecuta mientras una condición sea verdadera. La condición se evalúa antes de cada iteración.
```php
while (condición) {
    // código a repetir
}
```

**Ejemplo:**
```php
$contador = 1;
while ($contador <= 3) {
    echo "Contador: $contador <br>";
    $contador++;
}
```
⚠️ **Cuidado:** 

Si la condición nunca se vuelve falsa, ¡creas un bucle infinito! Esto hace que el programa no finalice.

💡 **Casos prácticos**

- Repeticiones basadas en una condición de parada.
- Leer filas de una base de datos (aunque hoy se prefiere foreach con PDO).
- Procesar datos mientras haya entradas (ej. colas de tareas).
     
## Bucle  do-while
Similar al while, pero la condición se evalúa al final. Por tanto, el bloque se ejecuta al menos una vez. 

```php
do{
    // código a repetir
}while(condición);