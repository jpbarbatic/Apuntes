# Lenguaje PHP
## Palabras reservadas
Las palabras reservadas de PHP son identificadores que el lenguaje utiliza internamente para definir su sintaxis y estructura. No se pueden usar como nombres de variables, funciones, clases, constantes, etc., porque tienen un significado especial para el int√©rprete de PHP.


**Lista completa de palabras reservadas en PHP (8.0+)**
1. Estructuras de control 
> if, else, elseif, switch, case, default,
for, foreach, while, do,
break, continue,
return, yield, yield from,
goto
  
2. Manejo de excepciones y errores 
> try, catch, finally, throw
 
 
3. Declaraci√≥n de funciones y clases 
> function, class, interface, trait,
extends, implements, abstract, final, static, public, protected, private, const, var
 
 
4. Espacios de nombres (namespaces) 
> namespace, use, as
 
 
5. Operadores y valores especiales 
> new, clone, instanceof, and, or, xor,  true, false, null
 
6. Palabras reservadas para tipos (PHP 7.0+) 
> int, float, bool, string, array, object,
callable, iterable, void, mixed, never (PHP 8.1+)
 
> ‚ö†Ô∏è Aunque int, string, etc., se usan como declaraciones de tipo, no se pueden usar como nombres de clases o funciones. 
     

7. Otras palabras reservadas 
> echo, print, include, include_once,
require, require_once, list, unset, isset, empty, die, exit, self, parent, this
 
üëâ https://www.php.net/manual/es/reserved.php  
 
## Instrucciones
PHP es un lenguaje imperativo, lo que significa que cuando creamos un programa est√° compuesto de instrucciones que realizan una acci√≥n determinada.

Existen dos tipos de instrucciones en PHP: 
- Instrucciones que se ejecutan en una √∫nica l√≠nea
- Estructuras de control que almacenan dichas instrucciones.

Las instrucciones simples, siempre deben finalizar con un punto y coma (;), mientras que las estructuras de control, encerrer√°n dichas instrucciones entre llaves { }.
```php
instruccion1;
instrucci√≥n2;
...
estructura de control {
    instrucci√≥n 1;
    instrucci√≥n 2;
}
...
```

## Estructura de un archivo PHP 
PHP es un lenguaje que puede ser utilizado de forma independiente o insertado dentro de c√≥digo HTML. 
Los archivos PHP tienen extensi√≥n 
*.php* y pueden contener s√≥lo c√≥digo PHP o una combinaci√≥n de HTML con PHP

```html
<!DOCTYPE html>
<html>
<head>
    <title>Ejemplo PHP</title>
</head>
<body>
    <h1>Bienvenido</h1>
    Hoy es <?php echo date("d/m/Y"); ?>
</body>
</html>
```
Tenemos que tener en cuenta que PHP se creo como un lenguaje para crear p√°ginas HTML de forma din√°mica, por lo que podemos insertar c√≥digo **php** entre el c√≥digo HTML.

Tambi√©n podemos podemos crear ficheros sin nada de c√≥digo HTML:
```php
<?php
    echo "Hola Mundo!!";
?>
```

## Expresiones

¬°Buena pregunta! En PHP, una **expresi√≥n** es **cualquier combinaci√≥n de valores, variables, operadores y llamadas a funciones que produce un valor**. Es el bloque b√°sico de construcci√≥n de la l√≥gica en cualquier programa.

En el contexto del m√≥dulo de **Implantaci√≥n de Aplicaciones Web (IAW)** de ASIR, entender qu√© es una expresi√≥n ayuda a los alumnos a comprender c√≥mo se construyen las condiciones, los c√°lculos, las asignaciones y el flujo de datos en una aplicaci√≥n web.

---

> üìå **Definici√≥n formal:**
Una expresi√≥n en PHP es cualquier cosa que tenga un valor.

Esto incluye desde un simple n√∫mero hasta una operaci√≥n compleja.

---

**Ejemplos de expresiones (de simple a complejo)**

| Tipo | Ejemplo | ¬øEs una expresi√≥n? | Valor resultante |
|------|--------|-------------------|------------------|
| Literal | `42` | ‚úÖ S√≠ | `42` |
| Variable | `$edad` | ‚úÖ S√≠ | el valor de `$edad` |
| Operaci√≥n aritm√©tica | `5 + 3` | ‚úÖ S√≠ | `8` |
| Concatenaci√≥n | `"Hola" . " mundo"` | ‚úÖ S√≠ | `"Hola mundo"` |
| Comparaci√≥n | `$edad >= 18` | ‚úÖ S√≠ | `true` o `false` |
| Llamada a funci√≥n | `date("Y")` | ‚úÖ S√≠ | por ejemplo, `"2025"` |
| Asignaci√≥n | `$x = 10` | ‚úÖ S√≠ | `10` (¬°la asignaci√≥n tambi√©n devuelve un valor!) |
| Ternario | `$mayor = ($edad >= 18) ? "S√≠" : "No"` | ‚úÖ S√≠ | `"S√≠"` o `"No"` |

---

**¬øQu√© **NO** es una expresi√≥n?**

Las **instrucciones de control** o **estructuras de flujo** **no son expresiones**, porque **no devuelven un valor**:

- `if (...) { ... }` ‚Üí ‚ùå no es una expresi√≥n
- `for (...) { ... }` ‚Üí ‚ùå no es una expresi√≥n
- `echo "Hola";` ‚Üí ‚ùå es una **instrucci√≥n**, no una expresi√≥n (aunque `print "Hola"` **s√≠ lo es**, porque `print` devuelve `1`)

> üí° Curiosidad: en PHP, `print` es una **expresi√≥n** (devuelve `1`), pero `echo` es una **instrucci√≥n**.

Ejemplo:
```php
$a = print "Hola"; // V√°lido: $a = 1
// $b = echo "Hola"; // ‚ùå Error de sintaxis
```
---
**Expresiones en contextos comunes**

### 1. **En condiciones**
```php
if ($usuario === "admin" && $logueado) { ... }
// ‚Üë Toda la parte dentro del par√©ntesis es una expresi√≥n booleana
```

### 2. **En bucles**
```php
while ($fila = $resultado->fetch()) { ... }
// ‚Üë La asignaci√≥n `$fila = ...` es una expresi√≥n que devuelve el valor asignado
```

### 3. **En asignaciones encadenadas**
```php
$a = $b = $c = 10;
// Equivale a: $c = 10; $b = 10; $a = 10;
// Porque cada asignaci√≥n es una expresi√≥n que devuelve el valor
```

### 4. **En arrays**
```php
$datos = [
    "a√±o" => date("Y"),        // expresi√≥n
    "activo" => $edad >= 18    // expresi√≥n booleana
];
```
### üß™ Ejercicio
**Indica cu√°les de las siguientes l√≠neas contienen expresiones v√°lidas en PHP:**

```php
1. 10 + 5
2. $x = 7
3. if ($a > 0) { }
4. "Hola" . " " . "mundo"
5. echo "Test";
6. strlen("PHP")
7. for ($i=0; $i<5; $i++) {}
8. ($edad >= 18) ? "Adulto" : "Menor"
```

**Soluci√≥n:**
- ‚úÖ Expresiones: 1, 2, 4, 6, 8  
- ‚ùå No son expresiones: 3, 5, 7

---

## Variables

Las variables son elementos que nos permiten almacenar valores temporales en un programa. En PHP las variables:

- Siempre comienzan con $.
- Son din√°micamente tipadas (no se declara el tipo). El tipo depender√° del valor de la expresi√≥n que se le asigne.
- Sensibles a may√∫sculas ($nombre ‚â† $Nombre).


## Tipos

Anteriormente hemos hablado de que las variables pueden tener un tipo. Toda expresi√≥n tiene un tipo.

Los tipos pueden ser:
- **Simples**: Guardan un √∫nico valor
- **Compuestas**: Guardas varios valores. Dentro de este tipos nos encontramos los **arrays**, que son como listas de valores. Tambi√©n podemos englobar aqu√≠ a los **objetos**

## Tipos Simples
Dentro de los tipos simples est√°s:
- **Enteros**: Son n√∫meros con signo (int o integer)
- **Decimales**: Son n√∫meros con signo y decimales (float y double)
- **Cadenas de texto**: Son cadenas de texto (string)
- **Booleanos o l√≥gicos**: Guardan valores cierto o false (true o false)
- **Nulo o vac√≠o**: Cuando no tienen un valor conocido (null)

## Tipos Compuestos
Dentro de este grupo tenemos:
- **Arrays**: Son conjuntos de valores, los cuales pueden ser accedidos a trav√©s de una clave
    - Indexados: La clave es un √≠ndice num√©rico
    - Asociativos: La clave es una cadena de texto
- **Clases**: Los clases son la base de la programaci√≥n orientada a objetos (POO). Las clases son plantillas para crear objetos.

```php
<?php
$nombre = "Ana";
$edad = 25;
$activo = true;
$precios = [10.5, 20.0, 15.75]; // array
?>
```

# √Åmbito de una variable
El √°mbito de las variables (tambi√©n llamado scope) en PHP define d√≥nde se puede acceder a una variable dentro de un script. Comprender este concepto es fundamental para evitar errores comunes, escribir c√≥digo limpio y seguro, y especialmente importante en el m√≥dulo de Implantaci√≥n de Aplicaciones Web (IAW) de ASIR, donde se trabaja con funciones, formularios, sesiones y l√≥gica de servidor.

## √Åmbito global

Una variable definida fuera de cualquier funci√≥n tiene √°mbito global.
‚û°Ô∏è Es accesible en cualquier parte del script, excepto dentro de funciones (a menos que se indique lo contrario). 
**Ejemplo:**
```php
$usuario = "Ana"; // variable global

function saludar() {
    // echo $usuario; // ‚ùå No se puede acceder directamente
}

saludar();
echo $usuario; // ‚úÖ Muestra: Ana
```

## √Åmbito local 

Una variable definida dentro de una funci√≥n tiene √°mbito local.
‚û°Ô∏è Solo existe y es accesible dentro de esa funci√≥n.


```php
function prueba() {
    $mensaje = "Hola desde dentro";
    echo $mensaje; // ‚úÖ Funciona
}

prueba();
// echo $mensaje; // ‚ùå Error: Undefined variable
```
# Constantes
Las constantes al contrario que las variables mantienen su valor una vez definido y no cambia. Una vez definida, no se puede modificar ni redefinir durante la ejecuci√≥n del script. 
**Caracter√≠sticas principales:**

- No llevan el s√≠mbolo $ (a diferencia de las variables).
- Por convenci√≥n, se escriben en may√∫sculas (ej. RUTA_BASE, IVA).
- Son accesibles desde cualquier √°mbito (global y dentro de funciones).
- Pueden contener valores escalares: boolean, integer, float, string (desde PHP 5.6+ tambi√©n arrays, y desde PHP 7.0+ expresiones constantes).
     
Hay dos formas de definir constantes en PHP:
- Usando **define**:
**Ejemplo**
```php
define("NOMBRE_APP", "Gestor de Tareas");
define("VERSION", "1.2.0");
define("DEBUG", true);
```
- Usando la palabra clave **const**;
**Ejemplo:**
```php
const NOMBRE_APP = "Gestor de Tareas";
const VERSION = "1.2.0";
const DEBUG = true;
```
# Instrucci√≥n de asignaci√≥n
Cuando se han visto las variables hemos visto como se le asigna un valor a una variable. Para ello se utiliza el operador '='. Cuando usamos este operador a la izquierda ponemos el nombre de la variable y a la derecha un valor, o una composici√≥n de variables, valores y operadores.

```php
// Con valores num√©ricos
$radio = 3;
$pi = 3.141592;
$circunferencia=2*$radio*$pi;

// Con cadenas de texto
$dominio='gmail.com';
$usuario='pepito';
$email="$usuario@$dominio";     // Para que las variables se interpreten tienen que haber comillas "
$email=$usuario.'@'.$dominio;   // Utilizando el operador . para unir texto
```

# Instrucciones para mostrar en pantalla
Para mostrar la informaci√≥n podemos utilizar las siguientes funciones:
- **echo**: est√° definida como una funci√≥n propia del lenguaje PHP. Podemos imprimir una variable simple, o el resultado de la composici√≥n de variables y valores. Es forma **m√°s sencilla** de mostrar valores.
```php
$nombre="Mar√≠a";
$apellidos="Gonz√°lez Mart√≠n";

echo $nombre;
echo $apellidos;
echo "$nombre $apellidos";
echo $nombre.' '.$apellidos;
```

- **print_r**: imprime informaci√≥n de variables. Normalmente se utilizan para mostrar valores de variables compuestas, como arrays y objetos.
- **var_dump**: es muy similar a **print_r**

Las funciones **print_r** y **var_dump** normalmente para depurar, es decir, mostrar variables cuando se est√° probando c√≥digo.

| Caracter√≠stica            | `print_r()`                          | `var_dump()`        |
|---------------------------|--------------------------------------|---------------------|
| **Tipo de datos**        | Muestra valor, **no el tipo**        | Muestra **valor + tipo + longitud**       |
| **Formato**              | M√°s legible para humanos             | M√°s t√©cnico, detallado                    |
| **Arrays y objetos**     | S√≠ (en formato indentado)            | S√≠ (con tipos de cada elemento)           |
| **Valores `null`**       | No muestra nada o `NULL` (seg√∫n modo)| Muestra `NULL` expl√≠citamente             |
| **Valores booleanos**    | `1` para `true`, nada para `false`   | Muestra `bool(true)` o `bool(false)`      |
| **Uso en producci√≥n**    | A veces (ej. logs simples)           | **Nunca** (solo para desarrollo)          |
| **Personalizaci√≥n**      | Puede devolver como string (`true`)  | Siempre imprime directamente              |

# Operadores

¬°Por supuesto! Los **operadores en PHP** son s√≠mbolos o palabras clave que permiten realizar **operaciones sobre valores o variables**. Son fundamentales para la l√≥gica de cualquier programa: desde c√°lculos matem√°ticos hasta comparaciones, toma de decisiones y manipulaci√≥n de datos.

En el m√≥dulo de **Implantaci√≥n de Aplicaciones Web (IAW)** de ASIR, dominar los operadores es esencial para trabajar con formularios, validar datos, gestionar sesiones, interactuar con bases de datos y controlar el flujo de una aplicaci√≥n web.

---

## üßÆ Tipos de operadores en PHP

PHP ofrece varios tipos de operadores, agrupados por su funci√≥n:

1. **Operadores aritm√©ticos**  
2. **Operadores de asignaci√≥n**  
3. **Operadores de comparaci√≥n**  
4. **Operadores l√≥gicos**  
5. **Operadores de cadena (string)**  
6. **Operadores de incremento/decremento**  
7. **Operador de fusi√≥n de null (null coalescing)**  
8. **Operador ternario**

Vamos a verlos uno por uno, con ejemplos pr√°cticos.

---

### ‚ûï Operadores aritm√©ticos

Se usan para **c√°lculos matem√°ticos**.

| Operador | Nombre | Ejemplo | Resultado |
|--------|--------|--------|----------|
| `+` | Suma | `5 + 3` | `8` |
| `-` | Resta | `5 - 3` | `2` |
| `*` | Multiplicaci√≥n | `5 * 3` | `15` |
| `/` | Divisi√≥n | `6 / 3` | `2.0` |
| `%` | M√≥dulo (resto) | `7 % 3` | `1` |
| `**` | Exponenciaci√≥n | `2 ** 3` | `8` |

> üí° El resultado de la divisi√≥n `/` siempre es `float`, incluso si es exacta.

---

### ‚û°Ô∏è Operadores de asignaci√≥n

Asignan un valor a una variable. El m√°s b√°sico es `=`, pero hay combinaciones √∫tiles:

| Operador | Equivalente a | Ejemplo |
|--------|----------------|--------|
| `=` | Asignaci√≥n simple | `$a = 5;` |
| `+=` | Suma y asigna | `$a += 3;` ‚Üí `$a = $a + 3;` |
| `-=` | Resta y asigna | `$a -= 2;` |
| `*=` | Multiplica y asigna | `$a *= 4;` |
| `/=` | Divide y asigna | `$a /= 2;` |
| `.=` | Concatena y asigna (cadenas) | `$msg .= " mundo";` |

### Ejemplo con cadenas:
```php
$saludo = "Hola";
$saludo .= " usuario"; // "Hola usuario"
```

---

### üîç Operadores de comparaci√≥n

Comparan dos valores y devuelven **`true` o `false`**. ¬°Muy importantes en condicionales!

| Operador | Nombre | Descripci√≥n |
|--------|--------|------------|
| `==` | Igual | Compara valor (con conversi√≥n de tipo) |
| `===` | Id√©ntico | Compara **valor y tipo** |
| `!=` o `<>` | Distinto | No igual (con conversi√≥n) |
| `!==` | No id√©ntico | Distinto en valor o tipo |
| `<`, `>`, `<=`, `>=` | Menor, mayor, etc. | Comparaciones num√©ricas |

### ‚ö†Ô∏è ¬°Cuidado con `==` vs `===`!
```php
var_dump(0 == "0");   // true  ‚Üí ¬°peligroso!
var_dump(0 === "0");  // false ‚Üí seguro

var_dump("10" == 10);   // true
var_dump("10" === 10);  // false
```

> ‚úÖ **Buena pr√°ctica en IAW**: usa `===` y `!==` para evitar errores sutiles.

---

### üîó Operadores l√≥gicos

Combinan o invierten condiciones booleanas.

| Operador | Nombre | Ejemplo |
|--------|--------|--------|
| `&&` o `and` | Y l√≥gico | `($edad >= 18 && $activo)` |
| `||` o `or` | O l√≥gico | `($rol == "admin" || $rol == "mod")` |
| `!` | Negaci√≥n | `!$logueado` ‚Üí "no est√° logueado" |

> üí° **Preferencia**: usa `&&` y `||` (tienen mayor precedencia que `and`/`or`).

### Ejemplo:
```php
if ($usuario === "admin" && $password === "secreto") {
    echo "Acceso permitido";
}
```

---

### üî§ Operadores de cadena

PHP tiene un operador especial para **concatenar cadenas**:

| Operador | Descripci√≥n |
|--------|------------|
| `.` | Concatena dos cadenas |
| `.=` | Concatena y asigna |

### Ejemplo:
```php
$nombre = "Ana";
$mensaje = "Hola, " . $nombre . "!"; // "Hola, Ana!"
```

---

### üîº Operadores de incremento/decremento

Aumentan o disminuyen en 1 el valor de una variable.

| Operador | Nombre | Ejemplo |
|--------|--------|--------|
| `++$a` | Pre-incremento | Aumenta antes de usar |
| `$a++` | Post-incremento | Usa, luego aumenta |
| `--$a` | Pre-decremento | Disminuye antes de usar |
| `$a--` | Post-decremento | Usa, luego disminuye |

### Ejemplo:
```php
$a = 5;
echo $a++; // Imprime 5, luego $a = 6
echo ++$a; // Aumenta a 7, luego imprime 7
```

---

### Operador de fusi√≥n de null (`??`)

Disponible desde **PHP 7**. Devuelve el primer operando que **no sea `null`**.

### √ötil para valores por defecto:
```php
$nombre = $_GET['nombre'] ?? "Invitado";
// Equivalente a:
// $nombre = isset($_GET['nombre']) ? $_GET['nombre'] : "Invitado";
```

> ‚úÖ Ideal para trabajar con formularios, cookies o par√°metros opcionales.

---

### 8. ‚ùì Operador ternario

Versi√≥n abreviada de una estructura `if-else`.

```php
$edad = 20;
$mensaje = ($edad >= 18) ? "Mayor de edad" : "Menor de edad";
```

### Sintaxis:
```php
(condici√≥n) ? valor_si_true : valor_si_false;
```

> üí° Se puede anidar, pero **mejor evitarlo** por legibilidad.

---

## üìä Precedencia de operadores (importante)

PHP eval√∫a los operadores en un orden espec√≠fico (como en matem√°ticas: `*` antes que `+`).

Ejemplo:
```php
$resultado = 2 + 3 * 4; // 14, no 20
```

Si tienes dudas, **usa par√©ntesis** para forzar el orden:
```php
$resultado = (2 + 3) * 4; // 20
```

> üìö Lista completa: [Precedencia en php.net](https://www.php.net/manual/es/language.operators.precedence.php)

