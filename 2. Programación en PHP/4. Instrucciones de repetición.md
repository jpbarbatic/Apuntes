# Instrucciones de repetici贸n (Bucles) 

## Bucle for
La instrucci贸n for se utiliza cuando queremos iterar un n煤mero determinado de veces.
```php
for (inicializaci贸n; condici贸n; incremento) {
    // c贸digo a repetir
}
```

```php
for ($i = 1; $i <= 5; $i++) {
    echo "Iteraci贸n n煤mero: $i <br>";
}
```
** Caso pr谩ctico en IAW:**

- Generar filas de una tabla HTML con datos num茅ricos.
- Repetir un proceso un n煤mero fijo de veces (ej. intentos de conexi贸n).
- Recorrer arrays, aunque se recomienda **foreach**
     
## Bucle foreach
Se usa para recorrer arrays y objetos. Es la forma m谩s segura y legible de iterar sobre colecciones de datos. Este tipo de bucle es el que m谩s se utiliza para recorrer arrays.

```php
// Iteramos sobre cada uno de los elementos del array
foreach ($array as $valor) {
    // usar $valor
}

foreach ($array as $clave => $valor) {
    // usar $clave y $valor
}
```
**Ejemplos**
```php
<?php
$colores = ["rojo", "verde", "azul"];
foreach ($colores as $color) {
    echo "Color: $color <br>";
}
?>
```
```php
<?php
$usuario = [
    "nombre" => "Ana",
    "edad" => 28,
    "ciudad" => "Madrid"
];

foreach ($usuario as $clave => $valor) {
    echo $clave. ": ".$valor.PHP_EOL    ;
}
?>
```

```php
<?php
$ciudades = [
    [
        'nombre'     => 'Madrid',
        'habitantes' => 3223334,
        'provincia'  => 'Madrid'
    ],
    [
        'nombre'     => 'Barcelona',
        'habitantes' => 1636762,
        'provincia'  => 'Barcelona'
    ],
    [
        'nombre'     => 'Valencia',
        'habitantes' => 794288,
        'provincia'  => 'Valencia'
    ],
    [
        'nombre'     => 'Sevilla',
        'habitantes' => 688592,
        'provincia'  => 'Sevilla'
    ],
    [
        'nombre'     => 'Zaragoza',
        'habitantes' => 674997,
        'provincia'  => 'Zaragoza'
    ],
    [
        'nombre'     => 'M谩laga',
        'habitantes' => 578460,
        'provincia'  => 'M谩laga'
    ],
    [
        'nombre'     => 'Murcia',
        'habitantes' => 460349,
        'provincia'  => 'Murcia'
    ],
    [
        'nombre'     => 'Palma de Mallorca',
        'habitantes' => 422587,
        'provincia'  => 'Islas Baleares'
    ],
    [
        'nombre'     => 'Las Palmas de Gran Canaria',
        'habitantes' => 379925,
        'provincia'  => 'Las Palmas'
    ],
    [
        'nombre'     => 'Bilbao',
        'habitantes' => 346843,
        'provincia'  => 'Vizcaya'
    ]
];

// Ejemplo de uso: imprimir el nombre y la provincia de cada ciudad
foreach ($ciudades as $ciudad) {
    echo $ciudad['nombre'] . ' (' . $ciudad['provincia'] . ') - ' . number_format($ciudad['habitantes'], 0, ',', '.') . " habitantes\n";
}
```

## Bucle  while
Se ejecuta mientras una condici贸n sea verdadera. La condici贸n se eval煤a antes de cada iteraci贸n.
```php
while (condici贸n) {
    // c贸digo a repetir
}
```

**Ejemplo:**
```php
$contador = 1;
while ($contador <= 3) {
    echo "Contador: $contador <br>";
    $contador++;
}
```
锔 **Cuidado:** 

Si la condici贸n nunca se vuelve falsa, 隆creas un bucle infinito! Esto hace que el programa no finalice.

 **Casos pr谩cticos**

- Repeticiones basadas en una condici贸n de parada.
- Leer filas de una base de datos (aunque hoy se prefiere foreach con PDO).
- Procesar datos mientras haya entradas (ej. colas de tareas).
     
## Bucle  do-while
Similar al while, pero la condici贸n se eval煤a al final. Por tanto, el bloque se ejecuta al menos una vez. 

```php
do{
    // c贸digo a repetir
}while(condici贸n);
```
## Ejercicios

### Ejercicio: Calcular la media de notas 

Dado un array de notas: [7, 5, 9, 6, 8],
calcula y muestra la media aritm茅tica. 

> Objetivo: bucles, operaciones matem谩ticas, funci贸n count(). 
     
### Ejercicio: Calcular la media de los valores de un array.

Genera un array con 10 valores aleatorios del 0 al 100. Calcula y muestra la media aritm茅tica. 

> Objetivo: bucles, operaciones matem谩ticas, funci贸n rand(), funci贸n count(). 

 ### Ejercicio: Filtrado de n煤meros pares.
 Genera un array con 20 valores aleatorios. Filtra los valores recorriendo el array y crea un nuevo array con los valores pares
 > Objetivo: bucles, condicionales, operaciones matem谩ticas, funci贸n rand(), funci贸n count(). 

### Ejercicio: Array de productos 

Crea un array de arrays (matriz) que represente una lista de productos, cada uno con:
- nombre, precio, stock.

Muestra solo los productos con stock mayor que 0.

 > Objetivo: bucles, condicionales, operaciones matem谩ticas

### Ejercicio: Contar ocurrencias 

Dado un array: ["rojo", "azul", "rojo", "verde", "azul", "rojo"],
cuenta cu谩ntas veces aparece cada color y muestra el resultado. 

    Salida esperada:   

        rojo: 3  
        azul: 2  
        verde: 1        
     
> Objetivo: arrays asociativos din谩micos, l贸gica de conteo. 

### Ejercicio : Carrito de compra 

Crea un "carrito" como array de productos (con nombre, precio, cantidad).
Calcula el total a pagar (precio  cantidad para cada producto) y verifica que ninguna cantidad sea negativa. 

**Ejemplo:**
| id| Nombre | Precio| Cantidad |
|---|--------|-------|----------|
| 11|Zapatillas Mike|34.5|     2|
| 23|Camiseta Sport|9.95|      1|
| 34|Pantalon Vaquero| 35.40|  3|

 > Objetivo: validaci贸n, operaciones en arrays, c谩lculo de totales. 
     

 
     

## Soluciones