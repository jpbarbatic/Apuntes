# Cookies
El protocolo HTTP es un protocolo sin estado (stateless). Esto significa cada petici칩n que se realiza es independiente de la anterior. Hemos visto que a trav칠s de la URL se puede pasar informaci칩n, pero la URL tiene sus limitaciones, adem치s que no es una forma muy segura.

Las **cookies HTTP** fueron introducidas en **1994**, y su implementaci칩n en los navegadores y servidores se populariz칩 a partir de **1995**.

### 游댳 Origen hist칩rico

- **Inventor**: **Lou Montulli**, un ingeniero de software que trabajaba en **Netscape Communications**.
- **Motivaci칩n**: Resolver el problema de la **falta de estado** en el protocolo HTTP, que es inherentemente **stateless** (sin estado).  
  Por ejemplo, un servidor no pod칤a recordar si un usuario ya se hab칤a autenticado o qu칠 productos hab칤a puesto en un carrito de compras.

### 游댳 Primera implementaci칩n

- **1994**: Lou Montulli concibi칩 la idea de las cookies para una tienda en l칤nea de **MCI** que quer칤a vender productos a trav칠s de la web.
- **1995**: Netscape Navigator 0.95 (una de las primeras versiones del navegador Netscape) fue el **primer navegador en implementar cookies**.
- El mecanismo usaba un encabezado HTTP llamado `Set-Cookie` (del servidor al cliente) y `Cookie` (del cliente al servidor).

### 游댳 Estandarizaci칩n

Aunque nacieron como una propuesta de Netscape, las cookies pronto se convirtieron en un est치ndar de facto. Posteriormente fueron formalizadas por la **IETF** (Internet Engineering Task Force):

- **RFC 2109** (1997): Primera especificaci칩n oficial.
- **RFC 2965** (2000): Revisi칩n y mejora.
- **RFC 6265** (abril de **2011**): Especificaci칩n actual y m치s ampliamente adoptada, titulada *"HTTP State Management Mechanism"*. Esta es la que define c칩mo funcionan las cookies en la web moderna.

---

### 游댳 쯇or qu칠 "cookie"?

El t칠rmino **"cookie"** proviene de la inform치tica general, donde se usaba para referirse a un **"paquete de datos intercambiado entre programas"**. A su vez, esto viene de la expresi칩n **"magic cookie"**, usada en sistemas Unix para describir un token o dato que se pasa entre programas y que solo el emisor y receptor entienden.

---

### 游댳 Resumen cronol칩gico

| A침o | Evento |
|-----|--------|
| **1994** | Lou Montulli inventa las cookies en Netscape. |
| **1995** | Primera implementaci칩n en **Netscape Navigator**. |
| **1996** | Microsoft adopta cookies en **Internet Explorer 3**. |
| **1997** | Publicaci칩n del **RFC 2109** (primera estandarizaci칩n). |
| **2011** | Publicaci칩n del **RFC 6265**, est치ndar actual. |

---

Hoy en d칤a, las cookies son fundamentales para la web moderna, aunque su uso est치 cada vez m치s regulado por normativas como el **RGPD** (en Europa) y leyes de privacidad que exigen consentimiento expl칤cito del usuario.

Las cookies en PHP son una forma de almacenar peque침os fragmentos de informaci칩n en el navegador del usuario. Se utilizan com칰nmente para recordar preferencias, mantener sesiones de usuario, rastrear comportamientos, entre otros fines. 

Una cookie es un archivo de texto peque침o que un servidor web env칤a al navegador del usuario. El navegador lo almacena y lo devuelve al servidor en cada solicitud posterior (mientras la cookie siga vigente). Las cookies son espec칤ficas de dominio, es decir, solo se env칤an al dominio que las cre칩. 

## 游댳 쮺칩mo se crean cookies en PHP?
```php
setcookie(nombre, valor, tiempo_expiraci칩n, ruta, dominio, seguro, s칩lo_http);
```
- nombre: nombre de la cookie.
- valor: valor que se almacena.
- tiempo_expiraci칩n: timestamp UNIX cuando expira (si es 0 o se omite, la cookie es de sesi칩n y se borra al cerrar el navegador).
- ruta: ruta en el servidor donde la cookie estar치 disponible (por ejemplo, '/' para todo el sitio).
- dominio: dominio al que se enviar치 la cookie (por ejemplo, 'ejemplo.com').
- seguro: si es true, solo se env칤a por HTTPS.
- s칩lo_http: si es true, la cookie no es accesible mediante JavaScript (protege contra XSS).
    

丘멆잺 **Importante:**
setcookie() debe llamarse antes de enviar cualquier salida al navegador (HTML, echo, espacios, etc.), porque env칤a encabezados HTTP. 
